language: java
before_install:
    - chmod +x gradlew
install:
    - "./gradlew setupCiWorkspace"
script:
    - "./gradlew clean build"
jdk:
    - oraclejdk8
before_cache:
    - find $HOME/.gradle/ -name '*.lock' -print -exec rm -f {} \;
cache:
    directories:
        - "$HOME/.gradle/caches/"
        - "$HOME/.gradle/wrapper/"
sudo: false
before_deploy:
    - echo "deploying to GitHub release $TRAVIS_TAG:"
    - echo $(ls  | tr '\n' ', ')
deploy:
    provider: releases
    api_key:
        secure: nb2bMTAXCtJCV2opWzivPTNMtdVBG5zieIsOclgcE2SV0+TZgjwzC9J77MtQuOpzOpkdm2LNn59a1mwd28qtobMh3IeXEmLlhz9V0kFr8LfBtmwj4yw96BO2mKmXTFIVWAdM5OX9yxZ/ZYjjfasJgkneKhAUfuABY1+MhOQShgLMNrqGJP4tJ24Ibpjuh+Lrg3SVJTbfYc/9gaTI5VHhXgzenP1CYGaWKy4BTgrPmCo05dHtwd1n0yS46biKhkKE1RFtvAgTER6NEakGVjjoOGc5SAqfTDbbJ4/m/1Eh3V6SZynWUMUHI8Gn9NJBEVmljzz6c++PJCIFn1hhaz3ZPOo9XLcC19LasJ0FoMiFzh34mdB1W07drqTW21XViE7IfQTZCu6clUBY9ZOr5ITXPmIRLatpmREx+iHy2bmIyIjrVKaoaBjQZ2JcSOA+HhS2KcuZy/irVK/uelHha66CZUzlaBUSP9hfbt8Tiqfo09nYRC5agMSkXJOXTvHk/iouVxTOE2OhPfZ2Q9dgabTn2q3ZuRpaYmf5Vxwcx8/17M6PBW1ucY3jvq4B+Yrc176gydkux6wHN2GUbGInFMgr/XkIhwB0AuolHjtfBi2hfeZURLbx4RKXrfI+0C1AdAEli0V6COIE5c3zguLZtLj743HJMEOl8B+chYV72VDwQLw=
    file_glob: true
    file: ./build/libs/*
    skip_cleanup: true
    target_commitsh: $TRAVIS_TAG
    on:
        repo: UpcraftLP/NetWeight
        tags: true