language: java
before_install:
    - chmod +x gradlew
install:
    - "./gradlew setupCiWorkspace"
script:
    - "./gradlew clean build"
jdk:
    - oraclejdk8
before_cache:
    - find $HOME/.gradle/ -name '*.lock' -print -exec rm -f {} \;
cache:
    directories:
        - "$HOME/.gradle/caches/"
        - "$HOME/.gradle/wrapper/"
sudo: false
before_deploy:
    - echo "deploying to GitHub release $TRAVIS_TAG:"
    - echo $(ls  | tr '\n' ', ')
deploy:
    provider: releases
    api_key:
        secure: "aGQnRFgffZLcq95U+sdiXMNwtnkZWx2vA4v9yz5YYYndxScuw7AQI8D2PvBaV8phX2AVWwi8ronMMYo9cCCamT08EmHyRD+7AQXvSBw71C1WQ61TerKUcAi7jxkOLHUqUwMjmi9Sw/jEzJLdgp3pb0sVXpKkiZlRREvg74Kx2Hkn9rpXp3n2XxYwf4gwfdiLQdEpVuv30SavrCQqY6/YvafKJaRcGeepM0/gfrsm0udmTRWWfaejf2AjHa5dFwSvzi3gNPKIAnADA/VYTuhTQxYdEx0x7Ox+6kkEIQxBedQix/cuX7a0wDCiqnQPs45+F4bD9LqZ9sqXZm6mMGVnzW5DJOSYlvMJEXJQemdWD5/1pZZzojDQR5X5QTexcQt+QrdZI04d3pvM10sNCrG7fxGoj25vmhnqQYifeFxfaEUloZculcwBeT+o9WGXCzuPVf8KqleJRNfpvRuCvG83z4B3j7HQZxvYu60UU7W8JCvnvCu1LepOD7+K85VlCx2PV98LnOeQFi8K1nOBc3HOSXQxUU5crM0SgUH1Wkn6TLblh5XPJS50mXt8YgSdcCOFYVU6B7XcIcVX+rE+Af0/NadZBdwC2xQfWQuyfj1uRkabrMrmL+fj29aOPF3cwZWR94STkhRGIse2YM3oFl5iw6+TXn1Ptuibb6MqGmUbQdI="
    file_glob: true
    file: ./build/libs/*
    skip_cleanup: true
    target_commitsh: $TRAVIS_TAG
    on:
        repo: UpcraftLP/NetWeight
        tags: true